START REPLICA USER='root';
Warnings:
Note	1759	Sending passwords in plain text without SSL/TLS is extremely insecure.
SET SESSION wsrep_sync_wait = 0;
CREATE TABLE t1 (f1 INTEGER PRIMARY KEY) ENGINE=InnoDB;
SET GLOBAL wsrep_provider_options = 'gmcast.isolate=1';
INSERT INTO t1 VALUES (1),(2),(3),(4),(5);
SELECT LAST_ERROR_NUMBER FROM performance_schema.replication_applier_status_by_worker;
LAST_ERROR_NUMBER
1047
0
0
0
SELECT TRIM(SUBSTRING_INDEX(LAST_ERROR_MESSAGE, ';', -1)) AS LAST_ERROR_MESSAGE FROM performance_schema.replication_applier_status_by_worker;
LAST_ERROR_MESSAGE
Error 'WSREP has not yet prepared node for application use' on query. Default database: 'test'. Query: 'BEGIN'



SET GLOBAL wsrep_provider_options = 'gmcast.isolate=0';
START REPLICA;
DROP TABLE t1;
STOP REPLICA;
RESET REPLICA ALL;
CALL mtr.add_suppression("Error 'WSREP has not yet prepared node for application use' on query");
CALL mtr.add_suppression("The slave coordinator and worker threads are stopped, possibly leaving data in inconsistent state");
CALL mtr.add_suppression("Slave: WSREP has not yet prepared node for application use Error_code: MY-001047");
CALL mtr.add_suppression("(Transport endpoint is not connected|Socket is not connected)");
CALL mtr.add_suppression("Operation not permitted");
CALL mtr.add_suppression("Slave SQL for channel '': Error in Xid_log_event: Commit could not be completed, 'Deadlock found when trying to get lock; try restarting transaction', Error_code: 1213");
CALL mtr.add_suppression("Slave SQL for channel '': Node has dropped from cluster, Error_code: MY-001047");
RESET MASTER;
